{"version":3,"sources":["../../src/pages/cadastrar-usuarios/cadastrar-usuarios.module.ts","../../src/pages/cadastrar-usuarios/cadastrar-usuarios.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACa;AAU7D;IAAA;IAA0C,CAAC;IAA9B,2BAA2B;QARvC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,kFAAqB;aACtB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,kFAAqB,CAAC;aAChD;SACF,CAAC;OACW,2BAA2B,CAAG;IAAD,kCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;ACZ4B;AAC1B;AACe;AAGzD;;;;;GAKG;AAOH;IAIE,+BACS,OAAsB,EACtB,SAAoB,EACpB,eAAgC;QAFhC,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,oBAAe,GAAf,eAAe,CAAiB;QANzC,2BAAsB,GAAG,EAAE,CAAC;IAO5B,CAAC;IAED,8CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;QACpD,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACnC,CAAC;IAED,yDAAyB,GAAzB;QAAA,iBAMC;QALC,IAAI,CAAC,eAAe,CAAC,gBAAgB,EAAE,CAAC,SAAS,CAAC,UAAC,aAA4B;YAC7E,KAAI,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,UAAC,QAAa;gBAC5D,KAAI,CAAC,sBAAsB,GAAG,KAAI,CAAC,oCAAoC,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;YACnG,CAAC,CAAC;QACJ,CAAC,CAAC;IACJ,CAAC;IAED,oEAAoC,GAApC,UAAqC,aAAa,EAAE,QAAQ;QAC1D,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,UAAC,YAAiB;YAC5C,IAAI,KAAK,GAAG,KAAK,CAAC;YAClB,QAAQ,CAAC,OAAO,CAAC,oBAAU;gBACzB,EAAE,CAAC,CAAC,YAAY,CAAC,KAAK,IAAI,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC3C,KAAK,GAAG,IAAI,CAAC;oBACb,MAAM,CAAC;gBACT,CAAC;YACH,CAAC,CAAC;YACF,EAAE,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,CAAC,CAAC;gBACnB,MAAM,CAAC,YAAY,CAAC;YACtB,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAED,yCAAS,GAAT;QACE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,sBAAsB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC5D,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC;QAC7D,CAAC;IACH,CAAC;IAED,kDAAkB,GAAlB;QACE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,UAAU,IAAS;YACtE,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC;QAC/B,CAAC,CAAC;IACJ,CAAC;IAED,8CAAc,GAAd;QAAA,iBAoBC;QAnBC,IAAM,QAAQ,GAAG,IAAI,CAAC,sBAAsB;aACzC,MAAM,CAAC,iBAAO,IAAI,cAAO,CAAC,QAAQ,EAAhB,CAAgB,CAAC,CAAC,GAAG,CAAC,iBAAO;YAC9C,MAAM,CAAC;gBACL,KAAK,EAAE,OAAO,CAAC,KAAK;gBACpB,IAAI,EAAE,OAAO,CAAC,IAAI;aACnB;QACH,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,CAAC;aAC1C,SAAS,CAAC,UAAC,WAAgB;YAC1B,WAAW,CAAC,OAAO,CAAC,oBAAU;gBAC5B,KAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,sBAAY;oBAC9C,EAAE,CAAC,CAAC,YAAY,CAAC,KAAK,IAAI,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;wBAC3C,KAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,KAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC3F,CAAC;gBACH,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;IAEN,CAAC;IAtEU,qBAAqB;QAJjC,wEAAS,CAAC;YACT,QAAQ,EAAE,yBAAyB;WACG;SACvC,CAAC;8BAQyC;OAP9B,qBAAqB,CAwEjC;IAAD,eAAC;;AAAA;SAxEY,qBAAqB,gB","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CadastrarUsuariosPage } from './cadastrar-usuarios';\n\n@NgModule({\n  declarations: [\n    CadastrarUsuariosPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CadastrarUsuariosPage),\n  ],\n})\nexport class CadastrarUsuariosPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cadastrar-usuarios/cadastrar-usuarios.module.ts","import { UsuarioProvider } from './../../providers/usuario/usuario';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Usuario } from '../../models/usuario';\n\n/**\n * Generated class for the CadastrarUsuariosPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-cadastrar-usuarios',\n  templateUrl: 'cadastrar-usuarios.html',\n})\nexport class CadastrarUsuariosPage {\n  usuariosNaoCadastrados = [];\n  selectedAll: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public usuarioProvider: UsuarioProvider) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CadastrarUsuariosPage');\n    this.getUsuariosNaoCadastrados();\n  }\n\n  getUsuariosNaoCadastrados() {\n    this.usuarioProvider.getLocalUsuarios().subscribe((localUsuarios: Array<Object>) => {\n      this.usuarioProvider.getAllUsuarios().subscribe((usuarios: any) => {\n        this.usuariosNaoCadastrados = this.filtrarListaDeUsuariosNaoCadastrados(localUsuarios, usuarios);\n      })\n    })\n  }\n\n  filtrarListaDeUsuariosNaoCadastrados(localUsuarios, usuarios) {\n    return localUsuarios.filter((usuarioLocal: any) => {\n      let achou = false;\n      usuarios.forEach(usuarioApi => {\n        if (usuarioLocal.email == usuarioApi.email) {\n          achou = true;\n          return;\n        }\n      })\n      if (achou == false) {\n        return usuarioLocal;\n      }\n    })\n  }\n\n  selectAll() {\n    for (var i = 0; i < this.usuariosNaoCadastrados.length; i++) {\n      this.usuariosNaoCadastrados[i].selected = this.selectedAll;\n    }\n  }\n\n  checkIfAllSelected() {\n    this.selectedAll = this.usuariosNaoCadastrados.every(function (item: any) {\n      return item.selected == true;\n    })\n  }\n\n  createUsuarios() {\n    const usuarios = this.usuariosNaoCadastrados\n      .filter(usuario => usuario.selected).map(usuario => {\n        return {\n          email: usuario.email,\n          nome: usuario.nome\n        }\n      });\n      \n    this.usuarioProvider.createUsuarios(usuarios)\n      .subscribe((usuariosApi: any) => {\n        usuariosApi.forEach(usuarioApi => {\n          this.usuariosNaoCadastrados.forEach(usuarioLocal => {\n            if (usuarioLocal.email == usuarioApi.email) {\n              this.usuariosNaoCadastrados.splice(this.usuariosNaoCadastrados.indexOf(usuarioLocal), 1);\n            }\n          })\n        });\n      })\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cadastrar-usuarios/cadastrar-usuarios.ts"],"sourceRoot":""}